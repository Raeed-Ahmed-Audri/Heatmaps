<head>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
</head>

<body>
    <div id="CME7">
    </div>
    <script>
        var map = L.map("CME7", {
            crs: L.CRS.Simple,
            minZoom: -1.5
        }).setView([1000, 850], 13);
        var bounds = [[0, 0], [1700, 3400]];
        var image = L.imageOverlay("./Images/CME/7.png", bounds).addTo(map)
        map.fitBounds(bounds);
        var hmCME7108 = L.polygon([
            [982, 840],
            [1053.5, 840],
            [1053.5, 779.5],
            [1111, 779.5],
            [1111, 830],
            [1260, 830],
            [1260, 932.5],
            [1237.5, 932.5],
            [1237.5, 953],
            [982, 953]], {
            color: "red",
            fillColor: "red",
            fillOpacity: 0.5
        }).addTo(map);
        hmCME7108.bindPopup("<b>7-108</b><br>Utilization: 86%");
        let marker = null;
        var point = "";
        map.on('click', (event) => {
            if (marker !== null) {
                map.removeLayer(marker);
            }
            marker = L.marker([event.latlng.lat, event.latlng.lng]).addTo(map);
            point = "[" + even,latlng.lat + ", " + event.latlng.lng + "]";
        })
        const fs = require('fs');
        fs.writeFile("points.txt", point, (err) => {
            if (err) {
                console.error("Error writing to the file: " + err);
                return;
            }
            console.log("Points have been written to the file.");
        });
    </script>
</body>